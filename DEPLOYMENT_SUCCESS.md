# ‚úÖ –î–µ–ø–ª–æ–π —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω!

## üéâ –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è

**–î–∞—Ç–∞:** 25 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚óè Ready (Production)  
**–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏:** 53 —Å–µ–∫—É–Ω–¥—ã

---

## üåê Production URL

### –û—Å–Ω–æ–≤–Ω–æ–π URL:
```
https://outliviondashboard-7a4277pyq-outtime.vercel.app
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ URL (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω custom domain):
```
https://outliviondashboard.vercel.app
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Vercel:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
vercel env ls

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
vercel env add ENOT_SHOP_ID production
vercel env add ENOT_SECRET_KEY production
vercel env add ENOT_SECRET_KEY_2 production
vercel env add NEXT_PUBLIC_APP_URL production
vercel env add SUPABASE_SERVICE_ROLE_KEY production
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: [Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables](https://vercel.com/outtime/outliviondashboard/settings/environment-variables)

### 2. –û–±–Ω–æ–≤–∏—Ç–µ NEXT_PUBLIC_APP_URL

–ï—Å–ª–∏ –≤—ã –µ—â—ë –Ω–µ —É–∫–∞–∑–∞–ª–∏ production URL, –æ–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Vercel Dashboard](https://vercel.com/outtime/outliviondashboard/settings/environment-variables)
2. –ù–∞–π–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ `NEXT_PUBLIC_APP_URL`
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `https://outliviondashboard-7a4277pyq-outtime.vercel.app`
4. –í—ã–±–µ—Ä–∏—Ç–µ **Production** environment
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ redeploy:
   ```bash
   vercel --prod
   ```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Webhook URL –≤ Enot.io

üîó **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–ª–∞—Ç–µ–∂–µ–π!**

1. –û—Ç–∫—Ä–æ–π—Ç–µ [–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç Enot.io](https://enot.io/cabinet)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ú–∞–≥–∞–∑–∏–Ω—ã** ‚Üí –í–∞—à –º–∞–≥–∞–∑–∏–Ω ‚Üí **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
3. –í –ø–æ–ª–µ **"URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"** —É–∫–∞–∂–∏—Ç–µ:
   ```
   https://outliviondashboard-7a4277pyq-outtime.vercel.app/api/payment/webhook
   ```
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 4. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –ë–î (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–ª–∏)

–û—Ç–∫—Ä–æ–π—Ç–µ [Supabase SQL Editor](https://app.supabase.com) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- –§–∞–π–ª: supabase/add_payment_external_id.sql
ALTER TABLE payments 
ADD COLUMN IF NOT EXISTS external_id TEXT,
ADD COLUMN IF NOT EXISTS gateway_data JSONB;

CREATE INDEX IF NOT EXISTS idx_payments_external_id ON payments(external_id);
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

- [ ] –ì–ª–∞–≤–Ω–∞—è: https://outliviondashboard-7a4277pyq-outtime.vercel.app
- [ ] –õ–æ–≥–∏–Ω: https://outliviondashboard-7a4277pyq-outtime.vercel.app/auth/login
- [ ] Dashboard: https://outliviondashboard-7a4277pyq-outtime.vercel.app/dashboard
- [ ] –û–ø–ª–∞—Ç–∞: https://outliviondashboard-7a4277pyq-outtime.vercel.app/pay

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API endpoints:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook endpoint
curl https://outliviondashboard-7a4277pyq-outtime.vercel.app/api/payment/webhook

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å {"error": "–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã"}
# –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –∑–Ω–∞—á–∏—Ç endpoint –¥–æ—Å—Ç—É–ø–µ–Ω
```

### –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂:

‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º Enot.io!**

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/pay`
2. –í—ã–±–µ—Ä–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–∞—Ä–∏—Ñ
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Vercel Logs

–ü—Ä–æ—Å–º–æ—Ç—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
vercel logs --prod --follow
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
[Vercel Dashboard ‚Üí Deployments ‚Üí Logs](https://vercel.com/outtime/outliviondashboard/deployments)

### –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ webhook:

```
[Webhook] Received payload: ...
[Webhook] Signature verified successfully
[Webhook] Processing payment xxx with status: success -> completed
[Webhook] Payment xxx marked as completed
[Webhook] Transaction created for user xxx, amount: 199
```

---

## üîç Troubleshooting

### –ï—Å–ª–∏ —Å–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è:
   ```bash
   vercel ls --prod
   ```
2. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `‚óè Ready`
3. –ï—Å–ª–∏ `‚óè Error`, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   vercel logs --prod
   ```

### –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–ª—è **Production** environment
2. –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–¥–µ–ª–∞–π—Ç–µ redeploy:
   ```bash
   vercel --prod
   ```

### –ï—Å–ª–∏ webhook –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ Enot.io (—Ç–æ—á–Ω–æ –ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `ENOT_SECRET_KEY_2` –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- [ ] ‚úÖ –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Vercel
- [ ] ‚úÖ NEXT_PUBLIC_APP_URL –æ–±–Ω–æ–≤–ª—ë–Ω –Ω–∞ production URL
- [ ] ‚úÖ Webhook URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Enot.io
- [ ] ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –≤ Supabase
- [ ] ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂ (–≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ Enot.io)
- [ ] ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º Enot.io –û–¢–ö–õ–Æ–ß–Å–ù**
- [ ] ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Ä–µ–∞–ª—å–Ω—ã–π –ø–ª–∞—Ç—ë–∂ –Ω–µ–±–æ–ª—å—à–æ–π —Å—É–º–º—ã
- [ ] ‚úÖ –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] ‚úÖ –õ–æ–≥–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—à–∏–±–æ–∫
- [ ] ‚úÖ Telegram bot –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

---

## üéØ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
vercel logs --prod --follow
```

### Redeploy
```bash
vercel --prod
```

### –°–ø–∏—Å–æ–∫ –¥–µ–ø–ª–æ–µ–≤
```bash
vercel ls --prod
```

### –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
```bash
vercel rollback
```

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

**Vercel Dashboard:**
- [–ü—Ä–æ–µ–∫—Ç](https://vercel.com/outtime/outliviondashboard)
- [Deployments](https://vercel.com/outtime/outliviondashboard/deployments)
- [Settings](https://vercel.com/outtime/outliviondashboard/settings)
- [Environment Variables](https://vercel.com/outtime/outliviondashboard/settings/environment-variables)
- [Logs](https://vercel.com/outtime/outliviondashboard/deployments)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:**
- [PAYMENT_INTEGRATION.md](./PAYMENT_INTEGRATION.md) - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–ª–∞—Ç–µ–∂–∞–º
- [PAYMENT_SETUP_CHECKLIST.md](./PAYMENT_SETUP_CHECKLIST.md) - —á–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [DEPLOY_GUIDE.md](./DEPLOY_GUIDE.md) - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
- [README.md](./README.md) - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã:**
- [Supabase Dashboard](https://app.supabase.com)
- [Enot.io Cabinet](https://enot.io/cabinet)

---

## üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!

–í–∞—à VPN Dashboard —É—Å–ø–µ—à–Ω–æ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Vercel –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!

**–ß—Ç–æ –≥–æ—Ç–æ–≤–æ:**
- ‚úÖ Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π Enot.io —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –í—Å–µ API endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ Production build —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω
- ‚úÖ –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ webhook, –∑–∞—Ç–µ–º –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ!

---

**–î–∞—Ç–∞:** 25 –æ–∫—Ç—è–±—Ä—è 2025  
**Deployment ID:** 7a4277pyq  
**Status:** ‚úÖ Production Ready


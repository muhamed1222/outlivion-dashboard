'use client'

import { useState } from 'react'
import Link from 'next/link'
import { Button } from './ui/Button'

interface ReferralCardProps {
  referralLink: string
}

export function ReferralCard({ referralLink }: ReferralCardProps) {
  const [copied, setCopied] = useState(false)

  const handleCopy = () => {
    navigator.clipboard.writeText(referralLink)
    setCopied(true)
    setTimeout(() => setCopied(false), 2000)
  }

  return (
    <div className="bg-gradient-to-br from-indigo-600/30 to-purple-600/30 backdrop-blur-xl rounded-3xl p-8">
      <h2 className="text-2xl font-bold mb-4">
        –ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–≥–∞ –∏ –ø–æ–ª—É—á–∏ 50‚ÇΩ –Ω–∞ –±–∞–ª–∞–Ω—Å
      </h2>
      
      <p className="text-white/80 mb-4">
        –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É. –ö–æ–≥–¥–∞ –≤–∞—à –¥—Ä—É–≥ –∑–∞–π–¥—ë—Ç –≤ –Ω–∞—à —Å–µ—Ä–≤–∏—Å –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ 50‚ÇΩ –Ω–∞ –±–∞–ª–∞–Ω—Å!
      </p>
      
      <p className="text-white/60 text-sm mb-4">
        –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É:
      </p>
      
      <div className="flex gap-2">
        <input
          type="text"
          value={referralLink}
          readOnly
          className="flex-1 bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-sm"
        />
        <Button
          onClick={handleCopy}
          className="bg-white/20 hover:bg-white/30 rounded-xl px-6"
        >
          {copied ? '‚úì' : 'üìã'}
        </Button>
      </div>

      <Link href="/referral" className="block text-center mt-4 text-indigo-300 hover:text-indigo-200 transition">
        –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ ‚Üí
      </Link>
    </div>
  )
}


'use client'

import { useState } from 'react'
import Link from 'next/link'
import { Button } from './ui/Button'

interface ReferralCardProps {
  referralLink: string
}

export function ReferralCard({ referralLink }: ReferralCardProps) {
  const [copied, setCopied] = useState(false)

  const handleCopy = () => {
    navigator.clipboard.writeText(referralLink)
    setCopied(true)
    setTimeout(() => setCopied(false), 2000)
  }

  return (
    <div className="bg-gradient-to-br from-gray-900 to-gray-850 border border-gray-800 rounded-3xl p-6 shadow-xl">
      <h2 className="text-xl font-bold mb-3 text-white">
        üéÅ –ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–≥–∞ –∏ –ø–æ–ª—É—á–∏ <span className="text-accent">50‚ÇΩ</span>
      </h2>
      
      <p className="text-gray-400 mb-4 text-sm leading-relaxed">
        –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É. –ö–æ–≥–¥–∞ –≤–∞—à –¥—Ä—É–≥ –∑–∞–π–¥—ë—Ç –≤ –Ω–∞—à —Å–µ—Ä–≤–∏—Å –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ 50‚ÇΩ –Ω–∞ –±–∞–ª–∞–Ω—Å!
      </p>
      
      <p className="text-gray-500 text-xs mb-3">
        –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É:
      </p>
      
      <div className="flex gap-2 mb-4">
        <input
          type="text"
          value={referralLink}
          readOnly
          className="flex-1 bg-gray-950 border border-gray-800 rounded-xl px-4 py-3 text-sm text-gray-300 focus:border-accent focus:outline-none"
        />
        <Button
          onClick={handleCopy}
          className="bg-gray-800 hover:bg-gray-700 border border-gray-700 rounded-xl px-6 transition-all"
        >
          {copied ? '‚úì' : 'üìã'}
        </Button>
      </div>

      <Link href="/referral" className="block text-center text-sm text-accent hover:text-accent-hover transition">
        –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ ‚Üí
      </Link>
    </div>
  )
}


# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚úÖ –ß—Ç–æ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å:

- ‚úÖ –¢–æ–∫–µ–Ω –±–æ—Ç–∞: `8477147639:AAG6Q8iTsJf0rAgw3rKOC0-4GKpjcjKUFH8`
- ‚úÖ Supabase –ø—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Dashboard –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Vercel
- ‚úÖ –ö–æ–¥ –±–æ—Ç–∞ —Å–æ–∑–¥–∞–Ω

---

## üìù –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç–µ URL –≤ –±–æ—Ç–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `telegram-bot/bot.py`
2. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É 18:
   ```python
   DASHBOARD_URL = "https://your-vercel-url.vercel.app"
   ```
3. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL –∏–∑ Vercel (—á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ `https://outlivion-dashboard-xxx.vercel.app`)

---

## üìù –®–∞–≥ 2: –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ Edge Function –≤ Supabase

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ Supabase CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Supabase CLI
npm install -g supabase

# 2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
supabase login

# 3. –°–≤—è–∂–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
cd /Users/outcasts/Documents/outlivion-dashboard
supabase link --project-ref ftqpccuyibzdczzowzkw

# 4. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ Edge Function
supabase functions deploy get-token --project-ref ftqpccuyibzdczzowzkw

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏
supabase secrets set DASHBOARD_URL=https://your-vercel-url.vercel.app --project-ref ftqpccuyibzdczzowzkw
```

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Supabase Dashboard (–µ—Å–ª–∏ CLI –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

–ï—Å–ª–∏ —É –≤–∞—Å –ø—Ä–æ–±–ª–µ–º—ã —Å CLI, –º–æ–∂–Ω–æ **–≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥**:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard: https://supabase.com/dashboard/project/ftqpccuyibzdczzowzkw/sql
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç SQL –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞–ø—Ä—è–º—É—é:

```sql
-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞ (–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ Edge Function)
CREATE OR REPLACE FUNCTION generate_auth_token(tg_id BIGINT)
RETURNS JSON
LANGUAGE plpgsql
SECURITY DEFINER
AS $$
DECLARE
  new_token UUID;
  expires_at TIMESTAMP WITH TIME ZONE;
  result JSON;
BEGIN
  new_token := gen_random_uuid();
  expires_at := NOW() + INTERVAL '1 hour';
  
  INSERT INTO auth_tokens (telegram_id, token, expires_at, used)
  VALUES (tg_id, new_token, expires_at, false);
  
  result := json_build_object(
    'success', true,
    'token', new_token::text,
    'auth_url', 'https://your-vercel-url.vercel.app/auth/login?token=' || new_token::text,
    'expires_at', expires_at
  );
  
  RETURN result;
END;
$$;
```

–ó–∞–º–µ–Ω–∏—Ç–µ `https://your-vercel-url.vercel.app` –Ω–∞ –≤–∞—à URL!

–ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ `bot.py` - –∑–∞–º–µ–Ω–∏—Ç–µ —Å–µ–∫—Ü–∏—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞ (—Å—Ç—Ä–æ–∫–∏ 33-52) –Ω–∞:

```python
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π SQL –≤–º–µ—Å—Ç–æ Edge Function
        from supabase import create_client
        
        supabase = create_client(SUPABASE_URL, SUPABASE_ANON_KEY)
        response = supabase.rpc('generate_auth_token', {'tg_id': telegram_id}).execute()
        
        if response.data:
            data = response.data
            auth_url = data.get("auth_url")
```

–ò –¥–æ–±–∞–≤—å—Ç–µ –≤ requirements.txt:
```
supabase==2.3.0
```

---

## üìù –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
cd /Users/outcasts/Documents/outlivion-dashboard/telegram-bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip3 install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
python3 bot.py
```

---

## üß™ –®–∞–≥ 4: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ

1. –ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ username, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∑–∞–¥–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "üîê –í–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"
4. –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞—Å—Ç—å –≤ Dashboard

---

## üéâ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ü–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –≤—Ö–æ–¥–∞
- `/help` - –°–ø—Ä–∞–≤–∫–∞
- `/referral` - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞
- `/support` - –ü–æ–¥–¥–µ—Ä–∂–∫–∞

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω (`python3 bot.py`)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞
**–†–µ—à–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Edge Function: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∞ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–∞
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ SQL —Ñ—É–Ω–∫—Ü–∏—é: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Å—ã–ª–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `DASHBOARD_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ bot.py
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `auth_tokens` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Supabase
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–æ–∑–¥–∞–ª—Å—è –≤ –ë–î

---

## üöÄ –î–µ–ø–ª–æ–π –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∞):
```bash
python3 bot.py
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å PM2:
```bash
npm install -g pm2
pm2 start bot.py --name outlivion-bot --interpreter python3
pm2 save
pm2 startup
```

### –í Docker:
```bash
docker build -t outlivion-bot telegram-bot/
docker run -d --name outlivion-bot --restart always outlivion-bot
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–û—Ç–∫—Ä–æ–π—Ç–µ Supabase –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É `auth_tokens`:
```sql
SELECT * FROM auth_tokens ORDER BY created_at DESC LIMIT 10;
```

–ü–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã `/start` –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å.

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] URL –æ–±–Ω–æ–≤–ª–µ–Ω –≤ bot.py
- [ ] Edge Function –∑–∞–¥–µ–ø–ª–æ–µ–Ω–∞ (–∏–ª–∏ SQL —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞)
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω
- [ ] –¢–µ—Å—Ç: –∫–æ–º–∞–Ω–¥–∞ /start —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¢–µ—Å—Ç: –ø–µ—Ä–µ—Ö–æ–¥ –≤ Dashboard —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¢–µ—Å—Ç: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ

---

**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í–∞—à Telegram –±–æ—Ç –≥–æ—Ç–æ–≤! üéâ**

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Telegram –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à VPN Dashboard!

